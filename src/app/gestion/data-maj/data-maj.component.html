<section>
  <article class="jaune">
    <form [formGroup]="filtres">
    <h3>{{ l.t['FILTRE_TITRE'] }}</h3>
      <select name="pays" formControlName="pays">
        <option>{{ l.t['FILTRE_PAYS'] }}</option>
        <!-- <option *ngFor="let d of [value]="l.t['LANG_ES']">{{  }}</option> -->
        <option></option>
      </select>
      <select name="regions" formControlName="regions">
        <option>{{ l.t['FILTRE_REGIONS'] }}</option>
        <option></option>
      </select>
      <select name="pdo" formControlName="pdo">
        <option>{{ l.t['FILTRE_PDO'] }}</option>
        <option></option>
      </select>
      <select name="type" formControlName="types">
        <option>{{ l.t['FILTRE_TOUS'] }}</option>
        <option>{{ l.t['FILTRE_ROUGE'] }}</option>
        <option>{{ l.t['FILTRE_BLANC'] }}</option>
        <option></option>
      </select>
      <!-- <input type="reset" [value]="l.t['FILTRE_BTN']">
      <input type="submit" [value]="l.t['FILTRE_BTN']"> -->
    </form>
  </article>
  <!-- DATA -->
  <article>
    <table>
      <thead class="grisclair">
        <tr>
          <th colspan="4"></th>
          <th [attr.colspan]="predServ.dataset[0].rendements.length" class="vert"></th>
          <th [attr.colspan]="predServ.dataset[0].predictions.length" class="orange"></th>
          <th [attr.colspan]="predServ.dataset[0].fiabilites.length" class="rouge"></th>
        </tr>
        <tr>
          <th>{{ l.t['FILTRE_PAYS'] }}</th>
          <th>{{ l.t['FILTRE_REGIONS'] }}</th>
          <th>{{ l.t['FILTRE_PDO'] }}</th>
          <th>{{ l.t['FILTRE_TYPE'] }}</th>
          <th *ngFor="let r of predServ.dataset[0].rendements; let i=index" class="vert">{{ 1981 + i }}</th>
          <th *ngFor="let r of predServ.dataset[0].predictions; let i=index" class="orange">{{ 2022 + i }}</th>
          <th *ngFor="let r of predServ.dataset[0].fiabilites; let i=index" class="rouge">{{ 2022 + i }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of predServ.dataset | filtres:filtres.value; let i=index">
          <td>{{ p.pays }}</td>
          <td>{{ p.regions }}</td>
          <td>{{ p.pdo }}</td>
          <td>{{ p.type }}</td>
          <td *ngFor="let r of p.rendements" class="vertclair">{{ r }}</td>
          <td *ngFor="let pr of p.predictions" class="orangeclair">{{ pr }}</td>
          <td *ngFor="let f of p.fiabilites" class="rougeclair">{{ f }}</td>
        </tr>
      </tbody>
    </table>
  </article>
</section>
<section class="bleu">
  <article>
    <h3>{{ l.t['GESTION_VERSION'] }}</h3>
    <select name="fichiers">
      <option *ngFor="let f of predServ.filesCSV" [value]="f.nom">{{ f.nom }} ({{ f.creation }})</option>
    </select>
  </article>
  <article>
    <h3>{{ l.t['GESTION_AJOUT'] }}</h3>
    <label for="fichierup"><span class="icone">upload</span>{{ l.t['FICHIER_UP'] }}</label>
    <input type="file" id="fichierup" (change)="upload($event)" accept=".png,.jpg" />
  </article>
</section>
