<main class="public">
  <section class="bleu">

  </section>
  <section class="bleufonce">
    <!-- ENTETE DE LA COLONNE -->
    <app-entete></app-entete>
    <p>{{ l.page.accroche }}</p>
    <!-- FORMULAIRE DE CONNEXION -->
    <form [formGroup]="connexionForm" (submit)="connexion()">
      <!-- EMAIL -->
      <fieldset>
        <label>{{ l.t['FORM_EMAIL'] }} *</label>
        <input type="email" formControlName="mail" [placeholder]="l.t['FORM_EMAIL']" required>
        <!-- <span class="orange">{{ l.t['FORM_EMAIL'] }}</span> -->
        <span
          *ngIf="connexionForm.controls['mail'].hasError('email') && !connexionForm.controls['mail'].hasError('required')"
          class="orange">
          {{ l.t['FORM_FORMAT_MAIL'] }}
        </span>
        <span *ngIf="connexionForm.controls['mail'].hasError('required')" class="orange">
          {{ l.t['FORM_REQUIS'] }}
        </span>
      </fieldset>
      <!-- PASSE -->
      <fieldset>
        <label>{{ l.t['FORM_PASSE'] }} *</label>
        <input type="password" formControlName="pass" require [placeholder]="l.t['FORM_PASSE']" minlength="8" required>
        <!-- <span  class="orange">{{ l.t['FORM_PASSE'] }}</span> -->
        <span
          *ngIf="connexionForm.controls['pass'].hasError('pattern') && !connexionForm.controls['pass'].hasError('required')"
          class="orange">
          {{ l.t['FORM_FORMAT_PASSE'] }}
        </span>
        <span *ngIf="connexionForm.controls['pass'].hasError('required')" class="orange">
          {{ l.t['FORM_REQUIS'] }}
        </span>
      </fieldset>
      <fieldset>
        <a (click)="oublie = true" [title]="l.t['FORM_OUBLIE']"><span class="icone">vpn_key</span>{{ l.t['FORM_OUBLIE']
          }}</a>
        <a routerLink="/compte" [title]="l.t['FORM_CREE']"><span class="icone">person_add_alt</span>{{ l.t['FORM_CREE']
          }}</a>
      </fieldset>
      <fieldset class="h">
        <input type="reset" [value]="l.t['FORM_EFFACE']">
        <input type="submit" [value]="l.t['FORM_CONNECTE']">
      </fieldset>
    </form>
    <!-- MENU DU BAS -->
    <app-pied></app-pied>
  </section>
  <section class="jaune">
    <article [innerHTML]="l.page.contenu"></article>
  </section>
  <p-dialog [header]="l.t['INIT_PW']" [(visible)]="oublie">
    <p>{{ l.t['INIT_PW_DESCR'] }}</p>
    <form [formGroup]="connexionForm" (submit)="oubliePasse()">
      <fieldset>
        <label>{{ l.t['FORM_EMAIL'] }} *</label>
        <input type="email" formControlName="mail" [placeholder]="l.t['FORM_EMAIL']" required>
        <!-- <span class="orange">{{ l.t['FORM_EMAIL'] }}</span> -->
        <span
          *ngIf="connexionForm.controls['mail'].hasError('email') && !connexionForm.controls['mail'].hasError('required')"
          class="orange">
          {{ l.t['FORM_FORMAT_MAIL'] }}
        </span>
        <span *ngIf="connexionForm.controls['mail'].hasError('required')" class="orange">
          {{ l.t['FORM_REQUIS'] }}
        </span>
      </fieldset>
      <div class="h">
        <button (click)="oublie = false" class="annule">{{ l.t['FORM_ANNULE'] }}</button>
        <button class="valide">{{ l.t['FORM_VALIDE'] }}</button>
      </div>
    </form>
  </p-dialog>
</main>
